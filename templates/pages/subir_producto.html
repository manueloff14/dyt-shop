<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Subir artículo | Calzado deportivo D&T</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>

<body>
    <div class="p-3">
        <div class="flex justify-between items-center mb-[20px]">
            <img class="w-[100px] mb-[20px] mt-[20px]"
                src="{{ url_for('static', filename='img/d&t_logo.png') }}"
                alt="D&T Logo">
            <a href="/cerrar_sesion">
                <button class="bg-[red] font-bold p-2 px-3 text-white rounded-full flex">
                    Cerrar
                    <img class="w-[20px] ml-2"
                        src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB4klEQVR4nO3cu0ocURyA8dEqGLARUifxbkpJShvBeOlMXsTOXhvfRPARQiCSQgJpLVII60qiDxCIJsUXBFNpdA/snPP3zPd7gJ0/8+1ldi6naSRJkiRJkiRJkiRJkiRJkjREwBiwDXwCjoA94Nkwt6EBAePAV247A+YGfR0NCbDL//0wSmbAMfe7ABZyz9VZQO+BIEbJHGSfwXwHZrMO10XAK+BnQpSZ0jNXD1gFfiVEmS49c/WAlYQo1z/086Vnrh5pUc6NkoFRHn+UM2Cq9MzVwyjxYJQqokyWnrl6pEXpGyUDowSEn5R4MEoVUV42kQCvgc/AJd3UA543EQDLwFXpPRIkyovSMUaAb6X3RCD9oqdZrjdeeg8EVO7Ko0HiBRkFTu6eq5P6xc8MA0vAn9J7IoDyP+r/AIvAx4Rj99r0whz21gh4m/DmOg33x7DDMfrGiHO7kKfh22SMQIA1PxlBYIw4gPWEM9ReTw8Ww3uz2gJsGCMIjBEHsAn8HvBryput2wS8M0YQwPuEGD6w03KMNwnX/H2krW3AQUIMH/rMEOTEGIEAXx4I4sIBmYPs3BPDpTVyA57erAB01/UMF58pAXgCbAEfgMObBWkmigwjSZIkSZIkSZIkSZIkSZLURPEXqmOk4fWrSIkAAAAASUVORK5CYII="
                        alt="Login Icon">
                </button>
            </a>
        </div>
        <h1 class="font-bold text-3xl ">Subir artículo</h1>
    </div>
    <form class="grid grid-cols-1 p-3" action="/subir_producto" method="POST" enctype="multipart/form-data">
        <input class="p-3 px-5 bg-gray-100 rounded-full" type="text" name="nombre_producto" id="nombre_producto" placeholder="Nombre del producto" required>
        <input class="mt-[10px] p-3 px-5 bg-gray-100 rounded-full" type="number" name="precio_producto" id="precio_producto" placeholder="Precio del producto" required>
        <div class="mt-3">
            <div>
                <input type="checkbox" name="en_promocion" id="en_promocion">
                <label for="en_promocion">¿En promoción?</label>
                <input class="bg-gray-100 p-2 px-4 ml-2 rounded-full" type="number" name="porcentaje_promocion" id="porcentaje_promocion"
                    placeholder="¿Cuál porcentaje?">
            </div>
            <div class="my-3">
                <div>
                    <input type="checkbox" name="para_ninos" id="para_ninos">
                    <label for="para_ninos">Para niños</label>
                </div>
                <div>
                    <input type="checkbox" name="para_ninas" id="para_ninas">
                    <label for="para_ninas">Para niñas</label>
                </div>
                <div>
                    <input type="checkbox" name="unisex" id="unisex">
                    <label for="unisex">Unisex</label>
                </div>
            </div>
            <div>
                <input type="checkbox" name="envio_gratis" id="envio_gratis">
                <label class="mr-3" for="envio_gratis">¿Envío gratis?</label>
                <input type="checkbox" name="envio_rapido" id="envio_rapido">
                <label for="envio_rapido">¿Envío rápido?</label>
            </div>
        </div>
        <h2 class="font-bold text-xl my-4">Categorías</h2>
        <span>Si pertenece a varias categorías, sepáralas por ","</span>
        <input class="p-3 px-5 bg-gray-100 rounded-full my-3"  type="text" name="categorias" id="categorias" placeholder="Ejemplo: Casual, Formales" required>
        <textarea class="p-3 bg-gray-100 rounded-[20px]" name="descripcion_producto" id="descripcion_producto"
            placeholder="Descripción del producto (No tan larga)" rows="4" required></textarea>
        <label class="font-bold text-xl my-4" for="marca">Marca:</label>
        <input class="p-3 px-5 bg-gray-100 rounded-full" type="text" name="marca" id="marca" placeholder="Marca del producto" required>
        <label class="font-bold text-xl my-4" for="color">Color:</label>
        <input class="p-3 px-5 bg-gray-100 rounded-full" type="text" name="color" id="color" placeholder="Color del producto" required>
        <label class="font-bold text-xl my-4" for="imagen_producto">Subir imagen del producto (PNG, JPG o WEBP):</label>
        <input class="p-3 px-5 bg-gray-100 rounded-full" type="file" name="imagen_producto" id="imagen_producto" accept="image/png, image/jpeg, image/webp"
            required>
        <h2 class="font-bold text-xl my-4">Detalles adicionales</h2>
        <span class="pb-4">Por favor, asegúrese de eliminar cualquier fila vacía antes de enviar el formulario. Las filas vacías
            serán incluidas en los detalles del producto si no se eliminan.</span>
        <br>
        <table id="detalles" class="min-w-full divide-y divide-gray-200 mt-4">
            <thead class="bg-gray-50">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Detalle</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Valor</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ACT</th>
                </tr>
            </thead>
            <tbody class="bg-white divide-y divide-gray-200">
                <tr>
                    <td class="px-2 py-2 whitespace-nowrap"><input type="text" name="detalles[]" placeholder="Tallas disponibles" class="w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full"></td>
                    <td class="px-2 py-2 whitespace-nowrap"><input type="text" name="valores[]" placeholder="34, 35, 36" class="w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full"></td>
                    <td class="px-6 py-4 whitespace-nowrap text-center"><button type="button" class="bg-red-500 text-white px-4 py-2 hover:bg-red-600 rounded-full" onclick="eliminarFila(this)">-</button></td>
                </tr>
            </tbody>
        </table>
        <button type="button" class="bg-blue-500 text-white px-4 py-2 hover:bg-blue-600 mt-4 rounded-full" onclick="agregarFila()">Agregar fila</button>
        <button type="submit" class="bg-green-500 text-white px-4 py-2 hover:bg-green-600 mt-4 rounded-full">Subir artículo</button>

    </form>
    </div>

    <script>
        function agregarFila() {
            const tabla = document.getElementById('detalles').getElementsByTagName('tbody')[0];
            const fila = tabla.insertRow();
            fila.innerHTML = `
                <td class="px-2 py-2 whitespace-nowrap"><input type="text" name="detalles[]" placeholder="Tallas disponibles" class="w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full"></td>
                <td class="px-2 py-2 whitespace-nowrap"><input type="text" name="valores[]" placeholder="34, 35, 36" class="w-full px-4 py-2 border border-gray-300 focus:outline-none focus:ring-2 focus:ring-blue-500 rounded-full"></td>
                <td class="px-6 py-4 whitespace-nowrap text-center"><button type="button" class="bg-red-500 text-white px-4 py-2 hover:bg-red-600 rounded-full" onclick="eliminarFila(this)">-</button></td>
            `;
        }

        function eliminarFila(boton) {
            const fila = boton.closest('tr');
            fila.remove();
        }
    </script>
</body>

</html>